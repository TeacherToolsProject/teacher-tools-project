<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/style.css">
    <title>Teacher Tools - Your Student</title>
</head>
<body>
<header th:insert="general.html :: header" id="header"></header>
<div class="container">
    <div class="left-sidebar"></div>
    <main class="main-content">
        <div class="student-information">
            <p class="page-title">Student Information:</p>
            <h2 th:text="${individualStudent.name}"></h2>
            <img th:src="${individualStudent.studentImage}" th:alt="${'Photo of ' + individualStudent.name}" width="200px">
            <ul class="student-details">
                <h4>Guardian Information:</h4>
                <li th:text="${individualStudent.guardianName}"></li>
                <li th:text="${individualStudent.guardianPhone}"></li>
                <li th:text="${individualStudent.guardianEmail}"></li>
                <h4>Student's Birthday:</h4>
                <li th:text="${individualStudent.birthdayMonth + '/' + individualStudent.birthdayDay + '/' + individualStudent.birthdayYear}"></li>
                <h4>Student's Classes:</h4>
                <li th:each="classroom: ${individualStudent.classrooms}"><a th:href="@{/classroom(id=${classroom.id})}" th:text="${classroom.subject}"></a></li>
            </ul>
        </div>
        <div class="student-grades">
            <h4>Student Grades:</h4>
            <ul class="grade-list" th:each="grade:${individualStudent.grades}">
                <li th:text="${'Assignment Name: ' + grade.assignment.name}"></li>
                <li th:text="${'Grade: ' + grade.grade + '/' + grade.maximumGrade}"></li>
                <form th:action="'/student/deletegrade/'+${individualStudent.id}" th:method="post">
                    <input type="hidden" name="gradeId" th:value="${grade.id}">
                    <button type="submit" class="button">Delete Grade</button>
                </form>
            </ul>
            <h4 class="total-grade" th:text="${'Overall Grade Average: ' + individualStudent.calculateTotalGrade() + '%'}"></h4>
        </div>
        <div class="student-notes">
            <ul class="note-list" th:each="note:${individualStudent.notes}">
                <li th:text="${'Note Title: ' + note.title}"></li>
                <li th:text="${'Note Date: ' + note.noteDate}"></li>
                <li th:text="${'Note: ' + note.note}"></li>
                <form th:action="'/student/deletenote/'+${individualStudent.id}" th:method="post">
                    <input type="hidden" name="noteId" th:value="${note.id}">
                    <button type="submit" class="button">Delete Note</button>
                </form>
            </ul>
        </div>
        <div class="student-note-form">
            <h2>Leave a Note for this Student: </h2>
            <form th:action="'/student/'+${individualStudent.id}" id="student-note" method="post">
            <label for="title">Title: </label> <input id="title" type="text" name="title">
            <label for="date">Date: </label> <input id="date" type="text" name="date">
            <textarea rows="4" cols="50" name="note" form="student-note">
            </textarea>
            <input type="submit" value="Add Note">
            </form>
                <!-- <textarea rows="4" cols="50" name="noteToAdd" form="usrform">
                </textarea> -->
                
        </div>
    </main>
    <div class="right-sidebar"></div>

</div>
<footer th:insert="general.html :: footer"></footer>
<script src="/js/addNoteForm.js" type="module"></script>
</body>
</html>